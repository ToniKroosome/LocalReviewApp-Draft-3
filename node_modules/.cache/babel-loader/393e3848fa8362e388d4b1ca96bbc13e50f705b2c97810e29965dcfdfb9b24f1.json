{"ast":null,"code":"var _jsxFileName = \"/Users/tonikroosome/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/src/components/ReviewItem.js\",\n  _s = $RefreshSig$();\nimport { MessageCircle, Globe, ChevronDown } from 'lucide-react';\nimport React, { useState, useEffect } from \"react\";\nimport { Camera, CheckCircle, MapPin } from \"lucide-react\";\nimport StarRating from \"./StarRating\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReviewItem = ({\n  generateImage,\n  item,\n  onClick,\n  language,\n  categories,\n  citiesData,\n  bangkokStreetsData,\n  generatedImages,\n  setGeneratedImages\n}) => {\n  _s();\n  const [isHovered, setIsHovered] = useState(false);\n  const displayName = language === 'th' && item.itemName_th ? item.itemName_th : item.itemName;\n\n  // Get the specific image status for *this* item from the overall state\n  const currentItemImageStatus = generatedImages[item.id];\n  useEffect(() => {\n    if (!currentItemImageStatus || !currentItemImageStatus.url && !currentItemImageStatus.loading && (currentItemImageStatus.error || currentItemImageStatus.retries !== undefined && currentItemImageStatus.retries < 3)) {\n      const currentRetries = (currentItemImageStatus === null || currentItemImageStatus === void 0 ? void 0 : currentItemImageStatus.retries) || 0;\n      if (currentItemImageStatus !== null && currentItemImageStatus !== void 0 && currentItemImageStatus.loading) return;\n      setGeneratedImages(prev => ({\n        ...prev,\n        [item.id]: {\n          loading: true,\n          url: null,\n          error: false,\n          retries: currentRetries + 1\n        }\n      }));\n      const prompt = `A shop front image of \"${item.itemName}\" which is a ${item.subCategory || item.category} in ${item.location.city !== 'Online' ? item.location.city : 'digital space'}. Ensure any text visible in the image is in English. Style: realistic, high detail.`;\n      generateImage(prompt).then(url => {\n        setGeneratedImages(prev => ({\n          ...prev,\n          [item.id]: {\n            ...prev[item.id],\n            loading: false,\n            url: url,\n            error: false\n          }\n        }));\n      }).catch(error => {\n        console.error(\"Failed to generate image for item:\", item.itemName, error);\n        setGeneratedImages(prev => ({\n          ...prev,\n          [item.id]: {\n            ...prev[item.id],\n            loading: false,\n            url: null,\n            error: true\n          }\n        }));\n      });\n    }\n  }, [item.id, item.itemName, item.category, item.subCategory, item.location.city, currentItemImageStatus === null || currentItemImageStatus === void 0 ? void 0 : currentItemImageStatus.url, currentItemImageStatus === null || currentItemImageStatus === void 0 ? void 0 : currentItemImageStatus.loading, currentItemImageStatus === null || currentItemImageStatus === void 0 ? void 0 : currentItemImageStatus.error, currentItemImageStatus === null || currentItemImageStatus === void 0 ? void 0 : currentItemImageStatus.retries, setGeneratedImages]);\n  const getCategoryLabel = (mainCat, cat, subCat) => {\n    var _categories$find, _categories$find2, _categories$find2$pla, _categories$find2$pla2, _categories$find3, _categories$find3$sub, _categories$find3$sub2, _categories$find4, _categories$find4$pla, _categories$find4$pla2, _categories$find4$pla3, _categories$find4$pla4, _categories$find5, _categories$find5$sub, _categories$find5$sub2, _categories$find5$sub3;\n    const mainLabel = ((_categories$find = categories.find(c => c.value === mainCat)) === null || _categories$find === void 0 ? void 0 : _categories$find[`label_${language}`]) || mainCat;\n    const platformOrCat = mainCat === 'Online' ? ((_categories$find2 = categories.find(c => c.value === mainCat)) === null || _categories$find2 === void 0 ? void 0 : (_categories$find2$pla = _categories$find2.platforms) === null || _categories$find2$pla === void 0 ? void 0 : (_categories$find2$pla2 = _categories$find2$pla.find(p => p.value === cat)) === null || _categories$find2$pla2 === void 0 ? void 0 : _categories$find2$pla2[`label_${language}`]) || cat : ((_categories$find3 = categories.find(c => c.value === mainCat)) === null || _categories$find3 === void 0 ? void 0 : (_categories$find3$sub = _categories$find3.subcategories) === null || _categories$find3$sub === void 0 ? void 0 : (_categories$find3$sub2 = _categories$find3$sub.find(s => s.value === cat)) === null || _categories$find3$sub2 === void 0 ? void 0 : _categories$find3$sub2[`label_${language}`]) || cat;\n    const subCatLabel = mainCat === 'Online' ? ((_categories$find4 = categories.find(c => c.value === mainCat)) === null || _categories$find4 === void 0 ? void 0 : (_categories$find4$pla = _categories$find4.platforms) === null || _categories$find4$pla === void 0 ? void 0 : (_categories$find4$pla2 = _categories$find4$pla.find(p => p.value === cat)) === null || _categories$find4$pla2 === void 0 ? void 0 : (_categories$find4$pla3 = _categories$find4$pla2.subcategories) === null || _categories$find4$pla3 === void 0 ? void 0 : (_categories$find4$pla4 = _categories$find4$pla3.find(sc => sc.value === subCat)) === null || _categories$find4$pla4 === void 0 ? void 0 : _categories$find4$pla4[`label_${language}`]) || subCat : ((_categories$find5 = categories.find(c => c.value === mainCat)) === null || _categories$find5 === void 0 ? void 0 : (_categories$find5$sub = _categories$find5.subcategories) === null || _categories$find5$sub === void 0 ? void 0 : (_categories$find5$sub2 = _categories$find5$sub.find(s => s.value === cat)) === null || _categories$find5$sub2 === void 0 ? void 0 : (_categories$find5$sub3 = _categories$find5$sub2.subcategories.find(sc => sc.value === subCat)) === null || _categories$find5$sub3 === void 0 ? void 0 : _categories$find5$sub3[`label_${language}`]) || subCat;\n    let parts = [mainLabel];\n    if (platformOrCat && platformOrCat !== cat) parts.push(platformOrCat);\n    if (subCatLabel && subCatLabel !== subCat) parts.push(subCatLabel);\n    if (parts.length === 1 && cat && cat !== 'all') {\n      var _ref, _categories$find6, _categories$find7;\n      const currentCategoryData = (_ref = mainCat === 'Online' ? (_categories$find6 = categories.find(c => c.value === mainCat)) === null || _categories$find6 === void 0 ? void 0 : _categories$find6.platforms : (_categories$find7 = categories.find(c => c.value === mainCat)) === null || _categories$find7 === void 0 ? void 0 : _categories$find7.subcategories) === null || _ref === void 0 ? void 0 : _ref.find(c => c.value === cat);\n      if (currentCategoryData) parts.push(currentCategoryData[`label_${language}`] || cat);\n    }\n    if (parts.length === 2 && subCat && subCat !== 'all') {\n      let currentSubCategoryData;\n      if (mainCat === 'Online') {\n        var _categories$find8;\n        const platform = (_categories$find8 = categories.find(c => c.value === mainCat)) === null || _categories$find8 === void 0 ? void 0 : _categories$find8.platforms.find(p => p.value === cat);\n        currentSubCategoryData = platform === null || platform === void 0 ? void 0 : platform.subcategories.find(s => s.value === subCat);\n      } else {\n        var _categories$find9;\n        const category = (_categories$find9 = categories.find(c => c.value === mainCat)) === null || _categories$find9 === void 0 ? void 0 : _categories$find9.subcategories.find(s => s.value === cat);\n        currentSubCategoryData = category === null || category === void 0 ? void 0 : category.subcategories.find(sc => sc.value === subCat);\n      }\n      if (currentSubCategoryData) parts.push(currentSubCategoryData[`label_${language}`] || subCat);\n    }\n    return parts.filter(Boolean).join(' / ');\n  };\n  const getLocationLabel = loc => {\n    var _citiesData$find, _citiesData$find2, _citiesData$find2$dis;\n    if (!loc || !loc.city) return '';\n    const cityLabel = ((_citiesData$find = citiesData.find(c => c.value === loc.city)) === null || _citiesData$find === void 0 ? void 0 : _citiesData$find[`label_${language}`]) || loc.city;\n    const districtLabel = loc.district ? ((_citiesData$find2 = citiesData.find(c => c.value === loc.city)) === null || _citiesData$find2 === void 0 ? void 0 : (_citiesData$find2$dis = _citiesData$find2.districts.find(d => d.value === loc.district)) === null || _citiesData$find2$dis === void 0 ? void 0 : _citiesData$find2$dis[`label_${language}`]) || loc.district : '';\n    let parts = [cityLabel];\n    if (districtLabel) parts.push(districtLabel);\n    return parts.filter(Boolean).join(', ');\n  };\n  const imageUrlToDisplay = (currentItemImageStatus === null || currentItemImageStatus === void 0 ? void 0 : currentItemImageStatus.url) || item.fallbackImageUrl;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-2xl shadow-lg border border-gray-700/50 p-2 cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:border-gray-600/50 max-w-[18rem] w-full mx-auto ${isHovered ? 'ring-2 ring-purple-500/20' : ''}`,\n    onClick: () => onClick(item),\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: () => setIsHovered(false),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-blue-500/5 rounded-2xl\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), currentItemImageStatus !== null && currentItemImageStatus !== void 0 && currentItemImageStatus.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-1 overflow-hidden rounded-xl aspect-[3/1] bg-gray-700 flex items-center justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-10 h-10 border-4 border-purple-500 border-t-transparent rounded-full animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm text-gray-400 ml-3\",\n        children: \"Generating image...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }, this) : imageUrlToDisplay ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-1 overflow-hidden rounded-xl aspect-[3/1]\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrlToDisplay,\n        alt: displayName,\n        className: \"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\",\n        onError: e => {\n          e.target.onerror = null;\n          e.target.src = \"https://placehold.co/400x250/333/555?text=Image+Error\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-1 overflow-hidden rounded-xl aspect-[3/1] bg-gray-700 flex items-center justify-center text-gray-400\",\n      children: /*#__PURE__*/_jsxDEV(Camera, {\n        size: 48,\n        className: \"text-gray-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex justify-between items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-gray-100 mb-1 tracking-tight\",\n          children: displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-1 mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-0.5\",\n            children: [/*#__PURE__*/_jsxDEV(StarRating, {\n              rating: item.rating,\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-semibold text-gray-100\",\n              children: item.rating ? item.rating.toFixed(1) : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1 text-xs text-gray-400\",\n            children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.reviewCount || 0, \" reviews\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inline-flex items-center px-2 py-1 rounded-full text-[10px] font-medium bg-gradient-to-r from-purple-600/20 to-blue-600/20 text-purple-300 border border-purple-500/20 backdrop-blur-sm\",\n            children: getCategoryLabel(item.mainCategory, item.category, item.subCategory)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), item.location && item.location.city && item.location.city !== \"Online\" && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-medium bg-gradient-to-r from-emerald-600/20 to-teal-600/20 text-emerald-300 border border-emerald-500/20 backdrop-blur-sm\",\n            children: [/*#__PURE__*/_jsxDEV(MapPin, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 33\n            }, this), getLocationLabel(item.location)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 29\n          }, this), item.location && item.location.city === \"Online\" && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-medium bg-gradient-to-r from-blue-600/20 to-cyan-600/20 text-blue-300 border border-blue-500/20 backdrop-blur-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Globe, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 33\n            }, this), language === 'en' ? 'Digital' : 'ดิจิทัล']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `transition-all duration-300 ${isHovered ? 'rotate-90' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(ChevronDown, {\n          className: \"text-gray-500\",\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this), item.reviews && item.reviews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-1 p-1 bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-1 mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-5 h-5 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-[9px] font-bold text-white\",\n            children: item.reviews[0].author.charAt(0).toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-semibold text-gray-100\",\n              children: item.reviews[0].author\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 33\n            }, this), item.reviews[0].verified && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-0.5\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"text-blue-400\",\n                size: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-[10px] text-blue-400\",\n                children: \"Verified\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(StarRating, {\n            rating: item.reviews[0].rating,\n            size: \"sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-[10px] text-gray-300 line-clamp-1 italic\",\n        children: [\"\\\"\", language === 'en' ? item.reviews[0].comment : item.reviews[0].comment_th || item.reviews[0].comment, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n};\n_s(ReviewItem, \"kc8+hhKG3+iGUxqsVUryptgPYnY=\");\n_c = ReviewItem;\nexport default ReviewItem;\nvar _c;\n$RefreshReg$(_c, \"ReviewItem\");","map":{"version":3,"names":["MessageCircle","Globe","ChevronDown","React","useState","useEffect","Camera","CheckCircle","MapPin","StarRating","jsxDEV","_jsxDEV","ReviewItem","generateImage","item","onClick","language","categories","citiesData","bangkokStreetsData","generatedImages","setGeneratedImages","_s","isHovered","setIsHovered","displayName","itemName_th","itemName","currentItemImageStatus","id","url","loading","error","retries","undefined","currentRetries","prev","prompt","subCategory","category","location","city","then","catch","console","getCategoryLabel","mainCat","cat","subCat","_categories$find","_categories$find2","_categories$find2$pla","_categories$find2$pla2","_categories$find3","_categories$find3$sub","_categories$find3$sub2","_categories$find4","_categories$find4$pla","_categories$find4$pla2","_categories$find4$pla3","_categories$find4$pla4","_categories$find5","_categories$find5$sub","_categories$find5$sub2","_categories$find5$sub3","mainLabel","find","c","value","platformOrCat","platforms","p","subcategories","s","subCatLabel","sc","parts","push","length","_ref","_categories$find6","_categories$find7","currentCategoryData","currentSubCategoryData","_categories$find8","platform","_categories$find9","filter","Boolean","join","getLocationLabel","loc","_citiesData$find","_citiesData$find2","_citiesData$find2$dis","cityLabel","districtLabel","district","districts","d","imageUrlToDisplay","fallbackImageUrl","className","onMouseEnter","onMouseLeave","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onError","e","target","onerror","size","rating","toFixed","reviewCount","mainCategory","reviews","author","charAt","toUpperCase","verified","comment","comment_th","_c","$RefreshReg$"],"sources":["/Users/tonikroosome/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/LocalReviewReal/src/components/ReviewItem.js"],"sourcesContent":["import { MessageCircle, Globe, ChevronDown } from 'lucide-react';\nimport React, { useState, useEffect } from \"react\";\nimport { Camera, CheckCircle, MapPin } from \"lucide-react\";\nimport StarRating from \"./StarRating\";\n\nconst ReviewItem = ({\n    generateImage,\n    item,\n    onClick,\n    language,\n    categories,\n    citiesData,\n    bangkokStreetsData,\n    generatedImages,\n    setGeneratedImages\n}) => {\n    const [isHovered, setIsHovered] = useState(false);\n    const displayName = language === 'th' && item.itemName_th ? item.itemName_th : item.itemName;\n\n    // Get the specific image status for *this* item from the overall state\n    const currentItemImageStatus = generatedImages[item.id];\n\n    useEffect(() => {\n        if (\n            !currentItemImageStatus ||\n            (\n                !currentItemImageStatus.url &&\n                !currentItemImageStatus.loading &&\n                (currentItemImageStatus.error ||\n                    (currentItemImageStatus.retries !== undefined && currentItemImageStatus.retries < 3)\n                )\n            )\n        ) {\n            const currentRetries = currentItemImageStatus?.retries || 0;\n            if (currentItemImageStatus?.loading) return;\n\n            setGeneratedImages(prev => ({\n                ...prev,\n                [item.id]: { loading: true, url: null, error: false, retries: currentRetries + 1 }\n            }));\n\n            const prompt = `A shop front image of \"${item.itemName}\" which is a ${item.subCategory || item.category} in ${item.location.city !== 'Online' ? item.location.city : 'digital space'}. Ensure any text visible in the image is in English. Style: realistic, high detail.`;\n            generateImage(prompt).then(url => {\n                setGeneratedImages(prev => ({ ...prev, [item.id]: { ...prev[item.id], loading: false, url: url, error: false } }));\n            }).catch(error => {\n                console.error(\"Failed to generate image for item:\", item.itemName, error);\n                setGeneratedImages(prev => ({ ...prev, [item.id]: { ...prev[item.id], loading: false, url: null, error: true } }));\n            });\n        }\n    }, [\n        item.id,\n        item.itemName,\n        item.category,\n        item.subCategory,\n        item.location.city,\n        currentItemImageStatus?.url,\n        currentItemImageStatus?.loading,\n        currentItemImageStatus?.error,\n        currentItemImageStatus?.retries,\n        setGeneratedImages\n    ]);\n\n    const getCategoryLabel = (mainCat, cat, subCat) => {\n        const mainLabel = categories.find(c => c.value === mainCat)?.[`label_${language}`] || mainCat;\n        const platformOrCat = mainCat === 'Online'\n            ? categories.find(c => c.value === mainCat)?.platforms?.find(p => p.value === cat)?.[`label_${language}`] || cat\n            : categories.find(c => c.value === mainCat)?.subcategories?.find(s => s.value === cat)?.[`label_${language}`] || cat;\n        const subCatLabel = mainCat === 'Online'\n            ? categories.find(c => c.value === mainCat)?.platforms?.find(p => p.value === cat)?.subcategories?.find(sc => sc.value === subCat)?.[`label_${language}`] || subCat\n            : categories.find(c => c.value === mainCat)?.subcategories?.find(s => s.value === cat)?.subcategories.find(sc => sc.value === subCat)?.[`label_${language}`] || subCat;\n\n        let parts = [mainLabel];\n        if (platformOrCat && platformOrCat !== cat) parts.push(platformOrCat);\n        if (subCatLabel && subCatLabel !== subCat) parts.push(subCatLabel);\n\n        if (parts.length === 1 && cat && cat !== 'all') {\n            const currentCategoryData = (mainCat === 'Online' ? categories.find(c => c.value === mainCat)?.platforms : categories.find(c => c.value === mainCat)?.subcategories)?.find(c => c.value === cat);\n            if (currentCategoryData) parts.push(currentCategoryData[`label_${language}`] || cat);\n        }\n        if (parts.length === 2 && subCat && subCat !== 'all') {\n            let currentSubCategoryData;\n            if (mainCat === 'Online') {\n                const platform = categories.find(c => c.value === mainCat)?.platforms.find(p => p.value === cat);\n                currentSubCategoryData = platform?.subcategories.find(s => s.value === subCat);\n            } else {\n                const category = categories.find(c => c.value === mainCat)?.subcategories.find(s => s.value === cat);\n                currentSubCategoryData = category?.subcategories.find(sc => sc.value === subCat);\n            }\n            if (currentSubCategoryData) parts.push(currentSubCategoryData[`label_${language}`] || subCat);\n        }\n        return parts.filter(Boolean).join(' / ');\n    };\n\n    const getLocationLabel = (loc) => {\n        if (!loc || !loc.city) return '';\n        const cityLabel = citiesData.find(c => c.value === loc.city)?.[`label_${language}`] || loc.city;\n        const districtLabel = loc.district ? (citiesData.find(c => c.value === loc.city)?.districts.find(d => d.value === loc.district)?.[`label_${language}`] || loc.district) : '';\n        let parts = [cityLabel];\n        if (districtLabel) parts.push(districtLabel);\n        return parts.filter(Boolean).join(', ');\n    };\n\n    const imageUrlToDisplay = currentItemImageStatus?.url || item.fallbackImageUrl;\n\n    return (\n        <div\n            className={`relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-2xl shadow-lg border border-gray-700/50 p-2 cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl hover:border-gray-600/50 max-w-[18rem] w-full mx-auto ${isHovered ? 'ring-2 ring-purple-500/20' : ''}`}\n            onClick={() => onClick(item)}\n            onMouseEnter={() => setIsHovered(true)}\n            onMouseLeave={() => setIsHovered(false)}\n        >\n            {/* Background accent */}\n            <div className=\"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-blue-500/5 rounded-2xl\" />\n            {currentItemImageStatus?.loading ? (\n                <div className=\"mb-1 overflow-hidden rounded-xl aspect-[3/1] bg-gray-700 flex items-center justify-center\">\n                    <div className=\"w-10 h-10 border-4 border-purple-500 border-t-transparent rounded-full animate-spin\"></div>\n                    <span className=\"text-sm text-gray-400 ml-3\">Generating image...</span>\n                </div>\n            ) : imageUrlToDisplay ? (\n                <div className=\"mb-1 overflow-hidden rounded-xl aspect-[3/1]\">\n                    <img\n                        src={imageUrlToDisplay}\n                        alt={displayName}\n                        className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\"\n                        onError={(e) => { e.target.onerror = null; e.target.src = \"https://placehold.co/400x250/333/555?text=Image+Error\"; }}\n                    />\n                </div>\n            ) : (\n                <div className=\"mb-1 overflow-hidden rounded-xl aspect-[3/1] bg-gray-700 flex items-center justify-center text-gray-400\">\n                    <Camera size={48} className=\"text-gray-500\" />\n                </div>\n            )}\n\n            <div className=\"relative flex justify-between items-start\">\n                <div className=\"flex-1\">\n                    <h3 className=\"text-sm font-semibold text-gray-100 mb-1 tracking-tight\">{displayName}</h3>\n                    <div className=\"flex items-center gap-1 mb-1\">\n                        <div className=\"flex items-center gap-0.5\">\n                            <StarRating rating={item.rating} size=\"sm\" />\n                            <span className=\"text-xs font-semibold text-gray-100\">\n                                {item.rating ? item.rating.toFixed(1) : 'N/A'}\n                            </span>\n                        </div>\n                        <div className=\"flex items-center gap-1 text-xs text-gray-400\">\n                            <MessageCircle size={12} />\n                            <span>{item.reviewCount || 0} reviews</span>\n                        </div>\n                    </div>\n                    <div className=\"flex flex-wrap gap-2\">\n                        <span className=\"inline-flex items-center px-2 py-1 rounded-full text-[10px] font-medium bg-gradient-to-r from-purple-600/20 to-blue-600/20 text-purple-300 border border-purple-500/20 backdrop-blur-sm\">\n                            {getCategoryLabel(item.mainCategory, item.category, item.subCategory)}\n                        </span>\n                        {item.location && item.location.city && item.location.city !== \"Online\" && (\n                            <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-medium bg-gradient-to-r from-emerald-600/20 to-teal-600/20 text-emerald-300 border border-emerald-500/20 backdrop-blur-sm\">\n                                <MapPin size={12} />\n                                {getLocationLabel(item.location)}\n                            </span>\n                        )}\n                        {item.location && item.location.city === \"Online\" && (\n                            <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-medium bg-gradient-to-r from-blue-600/20 to-cyan-600/20 text-blue-300 border border-blue-500/20 backdrop-blur-sm\">\n                                <Globe size={12} />\n                                {language === 'en' ? 'Digital' : 'ดิจิทัล'}\n                            </span>\n                        )}\n                    </div>\n                </div>\n                <div className={`transition-all duration-300 ${isHovered ? 'rotate-90' : ''}`}>\n                    <ChevronDown className=\"text-gray-500\" size={20} />\n                </div>\n            </div>\n\n            {item.reviews && item.reviews.length > 0 && (\n                <div className=\"mt-1 p-1 bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50\">\n                    <div className=\"flex items-center gap-1 mb-1\">\n                        <div className=\"w-5 h-5 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center shadow-lg\">\n                            <span className=\"text-[9px] font-bold text-white\">\n                                {item.reviews[0].author.charAt(0).toUpperCase()}\n                            </span>\n                        </div>\n                        <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-1\">\n                                <span className=\"text-xs font-semibold text-gray-100\">{item.reviews[0].author}</span>\n                                {item.reviews[0].verified && (\n                                    <div className=\"flex items-center gap-0.5\">\n                                        <CheckCircle className=\"text-blue-400\" size={12} />\n                                        <span className=\"text-[10px] text-blue-400\">Verified</span>\n                                    </div>\n                                )}\n                            </div>\n                            <StarRating rating={item.reviews[0].rating} size=\"sm\" />\n                        </div>\n                    </div>\n                    <p className=\"text-[10px] text-gray-300 line-clamp-1 italic\">\n                        \"{language === 'en' ? item.reviews[0].comment : item.reviews[0].comment_th || item.reviews[0].comment}\"\n                    </p>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ReviewItem;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}